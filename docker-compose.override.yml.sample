# Sample Docker Compose Override File
# Copy this file to docker-compose.override.yml and customize for your environment
# Also copy .env.sample to .env and configure your environment variables

services:
  signalradio-ui:
    # Admin password configuration
    # environment:
    #   - ADMIN_PASSWORD=YourSecurePassword123
    
    # Example: External nginx-proxy configuration
    # Uncomment and modify the following lines if using nginx-proxy + acme-companion
    # environment:
    #   VIRTUAL_HOST: your-domain.com
    #   VIRTUAL_PORT: 80
    #   LETSENCRYPT_HOST: your-domain.com
    #   LETSENCRYPT_EMAIL: your-email@example.com
    # networks:
    #   - signalradio-network
    #   - nginx-proxy
    # external_links:
    #   - nginx-proxy

    # Example: Custom port mapping (if not using nginx-proxy)
    # ports:
    #   - "8080:80"

    # Example: Development environment variables
    # environment:
    #   - NODE_ENV=development

  signalradio-api:
    # Example: Development database connection
    # environment:
    #   - ConnectionStrings__DefaultConnection=Server=localhost,1433;Database=SignalRadio;User Id=sa;Password=YourPassword;TrustServerCertificate=true;

    # Example: Azure Storage configuration
    # environment:
    #   - AzureStorage__ConnectionString=your-azure-storage-connection-string
    #   - AzureStorage__ContainerName=your-container-name

    # Example: AI Transcript Summarization (Azure OpenAI) configuration
    # environment:
    #   - SEMANTIC_KERNEL_ENABLED=true
    #   - AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/
    #   - AZURE_OPENAI_KEY=your-azure-openai-api-key-here
    #   - AZURE_OPENAI_DEPLOYMENT=gpt-4
    #   - SEMANTIC_KERNEL_MAX_TOKENS=1500
    #   - SEMANTIC_KERNEL_TEMPERATURE=0.3
    #   - SEMANTIC_KERNEL_CACHE_DURATION=30
    #   - SEMANTIC_KERNEL_DEFAULT_WINDOW=60

    # Example: Advanced ASR configuration
    # environment:
    #   - ASR_ENABLED=true
    #   - ASR_PROVIDER=azure
    #   - AZURE_SPEECH_KEY=your-azure-speech-key
    #   - AZURE_SPEECH_REGION=eastus


  # Example: External database (comment out sqlserver service in main compose if using external DB)
  # sqlserver:
  #   environment:
  #     - SA_PASSWORD=YourCustomPassword123!

# Example: External networks configuration
# networks:
#   nginx-proxy:
#     external: true

# Example: Development volumes for live code changes
# volumes:
#   api-source:
#     driver: local
#     driver_opts:
#       type: none
#       o: bind
#       device: ./src/SignalRadio.Api
  # Example: Bind the named 'recordings' volume to a host path so recordings
  # are visible on the host. Copy this into docker-compose.override.yml to enable.
  # volumes:
  #   api-recordings:
  #     driver: local
  #     driver_opts:
  #       type: none
  #       device: ${API_RECORDINGS_HOST_PATH:-./data/recordings}
  #       o: bind
# Tip: copy this file to docker-compose.override.yml and set API_RECORDINGS_HOST_PATH
# in your .env (or export it) if you want to store API recordings on the host.

# AI Transcript Summarization Setup Instructions:
# 1. Copy .env.sample to .env
# 2. Set SEMANTIC_KERNEL_ENABLED=true in your .env file
# 3. Configure Azure OpenAI settings in your .env file:
#    - AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
#    - AZURE_OPENAI_KEY=your-api-key
#    - AZURE_OPENAI_DEPLOYMENT=gpt-4 (or your deployment name)
# 4. Restart the services: docker-compose up -d
# 5. The AI summary will appear on TalkGroup pages when transcripts are available
